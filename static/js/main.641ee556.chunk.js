(this.webpackJsonpping_pong=this.webpackJsonpping_pong||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a,r,o,l,c=n(0),i=n.n(c),s=n(7),u=n(5),p=n(1),d=n(2),h=n(3),v=n(4),y=Object(c.createContext)(null);!function(e){e.BLACK="#000",e.GREEN="#0f0",e.BLUE="#00f",e.RED="rgb(255, 0, 0)",e.HIGLITE_BOT="rgb(162, 0, 0)",e.HIGLITE_TOP="rgb(240, 65, 65)",e.WHITE="rgb(255, 255, 255)",e.GOLD="rgb(232, 180, 65)"}(a||(a={})),function(e){e.KEYUP="keyup",e.KEYDOWN="keydown"}(r||(r={})),function(e){e[e.LEFT_ARROW=37]="LEFT_ARROW",e[e.RIGHT_ARROW=39]="RIGHT_ARROW"}(o||(o={})),function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.NONE=2]="NONE"}(l||(l={}));n(13);var x=function(e){Object(v.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).ref=Object(c.createRef)(),e.req=null,e.keys=new Set,e.state={ball:{color:a.RED,r:10,x:250,y:340,vx:0,vy:5},paddleTop:{color:a.BLACK,w:75,h:15,x:212.5,y:10,vx:0,vy:0},paddleBottom:{color:a.WHITE,w:75,h:15,x:212.5,y:675,vx:0,vy:0},scoreGround:{color:a.WHITE,w:480,h:340,x:10,y:10,vx:0,vy:0}},e.update=function(){e.updateBall(),e.updateHuman(),e.updateComputer(),e.req=requestAnimationFrame(e.update)},e.updateBall=function(){var t=e.state,n=t.ball,r=t.paddleTop,o=t.paddleBottom,l=t.scoreGround,c=n.y-n.r<=0,i=n.y+n.r>=700,s=n.y+n.r>=690||n.y-n.r<=10,p=n.x-n.r<=10,d=n.x+n.r>=490,h=n.x+n.r>=r.x&&n.x-n.r<=r.x+r.w&&n.y-n.r<=r.y+r.h,v=n.x+n.r>=o.x&&n.x-n.r<=o.x+o.w&&n.y+n.r>=o.y,y=n.y-n.r>=r.y+80,x=n.y+n.r<=o.y-60;e.setState({ball:Object(u.a)({},n,{},s&&{color:a.GOLD},{},(c||i)&&{color:a.RED,x:250,y:340,vx:0,vy:5},{},p&&{x:20,vx:-n.vx},{},d&&{x:480,vx:-n.vx},{},v&&{vx:n.vx+o.vx/2,vy:-5},{},h&&{vx:n.vx+r.vx/2,vy:5}),paddleBottom:Object(u.a)({},o,{},v&&{color:a.HIGLITE_BOT},{},x&&{color:a.WHITE}),paddleTop:Object(u.a)({},r,{},h&&{color:a.HIGLITE_TOP},{},y&&{color:a.BLACK}),scoreGround:Object(u.a)({},l,{},c&&{h:l.h<110?340:l.h-100},{},i&&{h:l.h>590?340:l.h+100})}),e.setState({ball:Object(u.a)({},e.state.ball,{x:e.state.ball.x+e.state.ball.vx,y:e.state.ball.y+e.state.ball.vy})})},e.updateHuman=function(){var t=e.state.paddleBottom,n={};switch(e.humanMove){case l.LEFT:n=t.x<=20?{x:10,vx:0}:{x:t.x-5,vx:-5};break;case l.RIGHT:n=t.x+t.w>=490?{x:500-t.w-10,vx:0}:{x:t.x+5,vx:5};break;case l.NONE:n={vx:0}}e.setState({paddleBottom:Object(u.a)({},t,{},n)})},e.updateComputer=function(){var t=e.state,n=t.paddleTop,a=t.ball,r=-(n.x+n.w/2-a.x);r<-5?r=-5:r>5&&(r=5);var o=n.x+r;e.setState({paddleTop:Object(u.a)({},n,{x:o<=10?10:o+n.w>=490?500-n.w-10:o})})},e.handleKeyDown=function(t){var n=t.keyCode;e.keys.add(n)},e.handleKeyUp=function(t){var n=t.keyCode;e.keys.delete(n)},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp),this.update()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp),cancelAnimationFrame(this.req)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"gmaeContainer"},i.a.createElement("canvas",{ref:this.ref,width:500,height:700}),i.a.createElement(y.Provider,{value:function(){var t;return null===(t=e.ref.current)||void 0===t?void 0:t.getContext("2d")}},i.a.createElement(O,null),i.a.createElement(m,this.state.scoreGround),i.a.createElement(f,this.state.ball),i.a.createElement(b,this.state.paddleTop),i.a.createElement(b,this.state.paddleBottom)))}},{key:"humanMove",get:function(){return this.keys.has(o.LEFT_ARROW)?l.LEFT:this.keys.has(o.RIGHT_ARROW)?l.RIGHT:l.NONE}}]),n}(c.Component),b=function(e){Object(v.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.context();e.beginPath(),e.rect(this.props.x,this.props.y,this.props.w,this.props.h),e.fillStyle=this.props.color,e.strokeStyle=a.GOLD,e.lineWidth="10",e.stroke(),e.fill(),e.closePath()}},{key:"render",value:function(){return null}}]),n}(c.PureComponent);b.contextType=y;var f=function(e){Object(v.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.context();e.beginPath(),e.fillStyle=this.props.color,e.arc(this.props.x,this.props.y,this.props.r,0,2*Math.PI),e.fill()}},{key:"render",value:function(){return null}}]),n}(c.PureComponent);f.contextType=y;var O=function(e){Object(v.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.context();e.beginPath(),e.fillStyle=a.BLACK,e.strokeStyle=a.GOLD,e.lineWidth="10",e.rect(10,10,480,680),e.stroke(),e.fill()}},{key:"render",value:function(){return null}}]),n}(c.PureComponent);O.contextType=y;var m=function(e){Object(v.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.context();e.beginPath(),e.rect(this.props.x,this.props.y,this.props.w,this.props.h),e.fillStyle=this.props.color,e.fill()}},{key:"render",value:function(){return null}}]),n}(c.PureComponent);m.contextType=y,Object(s.render)(i.a.createElement(x,null),document.getElementById("root"))},8:function(e,t,n){e.exports=n(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.641ee556.chunk.js.map